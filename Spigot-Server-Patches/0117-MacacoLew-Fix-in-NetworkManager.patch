From 8b20e006fe2ab81cc2255d04b74167c3c23029e9 Mon Sep 17 00:00:00 2001
From: PermisosDev <55111245+PermisosDev@users.noreply.github.com>
Date: Thu, 8 Apr 2021 19:10:27 -0300
Subject: [PATCH] MacacoLew Fix in NetworkManager


diff --git a/src/main/java/net/minecraft/server/NetworkManager.java b/src/main/java/net/minecraft/server/NetworkManager.java
index 2ec3c9fa..345051fd 100644
--- a/src/main/java/net/minecraft/server/NetworkManager.java
+++ b/src/main/java/net/minecraft/server/NetworkManager.java
@@ -321,10 +321,19 @@ public class NetworkManager extends SimpleChannelInboundHandler<Packet> {

         }
     }
+    //MacacoLew Fix. start

-    protected void channelRead0(ChannelHandlerContext channelhandlercontext, Packet object) throws Exception { // CraftBukkit - fix decompile error
+    /*protected void channelRead0(ChannelHandlerContext channelhandlercontext, Packet object) throws Exception { // CraftBukkit - fix decompile error
         this.a(channelhandlercontext, (Packet) object);
+    }*/
+
+    protected void channelRead0(ChannelHandlerContext channelhandlercontext, Packet object) throws Exception { // CraftBukkit - fix decompile error
+         if (g()) {
+             this.a(channelhandlercontext, object);
+         }
     }
+    //MacacoLew Fix. end
+

     static class QueuedPacket {

-- 
